!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.redom=e.redom||{})}(this,function(e){"use strict";function t(e,t){for(var n,i,r,o=0,u=0,f=0,d=e.length;d>=f;f++){var s=f===d?0:e.charCodeAt(f);if(35===s||46===s||0===s){if(0===o)n=0===f?"div":0===s?e:e.substring(u,f);else{var a=e.substring(u,f);1===o?i=a:r?r+=" "+a:r=a}u=f+1,o=35===s?1:2}}var v=t?l.createElementNS(t,n):l.createElement(n);return i&&(v.id=i),r&&(v.className=r),v}function n(e){return l.createTextNode(e)}function i(e,t,n){var i=e.el||e,r=t.el||t;t===r&&r.__redom_view&&(t=r.__redom_view),t!==r&&(r.__redom_view=t),n?i.insertBefore(r,n.el||n):i.appendChild(r),t.isMounted?t.remounted&&t.remounted():(t.isMounted=!0,t.mounted&&t.mounted())}function r(e,t){var n=e.el||e,i=t.el||t;t===i&&i.__redom_view&&(t=i.__redom_view),n.removeChild(i),t.isMounted=!1,t.unmounted&&t.unmounted()}function o(e){var r;if("string"==typeof e)r=(a[e]||(a[e]=t(e))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var o=!0,u=1;u<arguments.length;u++){var f=arguments[u];if(f)if("function"==typeof f)f(r);else if("string"==typeof f||"number"==typeof f)o?(o=!1,r.textContent=f):r.appendChild(n(f));else if(f.nodeType||f.el&&f.el.nodeType)o=!1,i(r,f);else if("object"==typeof f)for(var d in f){var s=f[d];if("style"===d)if("string"==typeof s)r.setAttribute(d,s);else for(var l in s)r.style[l]=s[l];else d in r||"function"==typeof s?r[d]=s:r.setAttribute(d,s)}}return r}function u(e,t,n,i){return new f(e,t,n,i)}function f(e,t,n,i){this.View=t,this.key=n,this.initData=i,this.views=[],this.el="string"==typeof e?o(e):e,n&&(this.lookup={})}function d(e,t){for(var n=e.el||e,o=n.firstChild,u=0;u<t.length;u++){var f=t[u];if(f){var d=f.el||f;d!==o?i(e,f,o):o=o.nextSibling}}for(;o;){var s=o.nextSibling;r(e,o),o=s}}function s(e){var r;if("string"==typeof e)r=(p[e]||(p[e]=t(e,v))).cloneNode(!1);else{if(!e||!e.nodeType)throw new Error("At least one argument required");r=e.cloneNode(!1)}for(var o=!0,u=1;u<arguments.length;u++){var f=arguments[u];if(f)if("function"==typeof f)f=f(r);else if("string"==typeof f||"number"==typeof f)o?(o=!1,r.textContent=f):r.appendChild(n(f));else if(f.nodeType||f.el&&f.el.nodeType)o=!1,i(r,f);else if("object"==typeof f)for(var d in f){var s=f[d];if("style"===d&&"string"!=typeof s)for(var l in s)r.style[l]=s[l];else"function"==typeof s?r[d]=s:r.setAttribute(d,s)}}return r}var l=document,a={};o.extend=function(e){var n=a[e]||(a[e]=t(e));return o.bind(this,n)},f.extend=function(e,t,n,i){return f.bind(f,e,t,n,i)},u.extend=f.extend,f.prototype.update=function(e){var t=this.View,n=this.key,i=this.initData,r=this.views,o=this.el,u=o.firstChild;if(n)var f=this.lookup;for(var d=0;d<e.length;d++){var s,l=e[d];if(n){var a="function"==typeof n?n(l):l[n];s=r[d]=f[a]||(f[a]=new t(i,l,d)),s.__id=a}else s=r[d]||(r[d]=new t(i,l,d));var v=s.el;v.__redom_view=s,s.update&&s.update(l),u!==v?(u?o.insertBefore(v,u):o.appendChild(v),s.isMounted?s.remounted&&s.remounted():(s.isMounted=!0,s.mounted&&s.mounted())):u=u.nextSibling}for(;u;){var p=u.nextSibling,m=u.__redom_view;n&&m&&(a=m.__id,f[a]=null),r[d++]=null,o.removeChild(u),m.isMounted=!1,m.unmounted&&m.unmounted(),u.__redom_view=null,u=p}r.length=e.length};var v="http://www.w3.org/2000/svg",p={};s.extend=function(e){var n=p[e]||(p[e]=t(e,v));return s.bind(this,n)},e.el=o,e.list=u,e.List=f,e.mount=i,e.unmount=r,e.setChildren=d,e.svg=s,e.text=n,Object.defineProperty(e,"__esModule",{value:!0})});